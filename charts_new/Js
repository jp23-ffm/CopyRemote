async function loadSavedChartsList() {
    try {
        const response = await fetch('/api/charts/list/');
        
        // Vérifier que la réponse est OK
        if (!response.ok) {
            console.error('HTTP error:', response.status);
            return;
        }
        
        const data = await response.json();
        
        const select = document.getElementById('savedChartSelect');
        if (!select) {
            console.error('savedChartSelect not found');
            return;
        }
        
        select.innerHTML = '<option value="">-- Select a saved view --</option>';
        
        // Vérifier que data.charts existe et est un tableau
        if (data.success && Array.isArray(data.charts)) {
            if (data.charts.length === 0) {
                // Pas de charts sauvegardés
                const option = document.createElement('option');
                option.value = '';
                option.textContent = '(No saved views yet)';
                option.disabled = true;
                select.appendChild(option);
            } else {
                // Ajouter les charts
                data.charts.forEach(chart => {
                    const option = document.createElement('option');
                    option.value = chart.id;
                    option.textContent = chart.name;
                    option.dataset.filters = JSON.stringify(chart.filters);
                    select.appendChild(option);
                });
            }
        } else {
            console.error('Invalid data format:', data);
        }
        
    } catch (error) {
        console.error('Error loading saved charts:', error);
        // Ne pas bloquer l'interface si ça échoue
    }
}
