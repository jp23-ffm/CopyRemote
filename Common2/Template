<!-- inventory/templates/inventory/server_list.html -->
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Inventory</title>
    
    <!-- Theme (charger en premier) -->
    <script src="{% static 'common/js/theme-toggle.js' %}"></script>
    
    <link rel="stylesheet" href="{% static 'inventory/css/inventory.css' %}">
</head>
<body data-authenticated="{% if user.is_authenticated %}true{% else %}false{% endif %}">
    
    <div class="header">
        <h1>Inventory</h1>
        <div class="header-actions">
            <!-- Bouton Settings -->
            <button onclick="openSettingsModal()" class="btn btn-secondary">
                ⚙️ Settings
            </button>
        </div>
    </div>
    
    <!-- Ton contenu -->
    
    <!-- INCLURE LE MODAL SETTINGS (commun) -->
    {% include 'common/settings_modal.html' %}
    
    <!-- Scripts -->
    <script src="{% static 'common/js/settings-modal.js' %}"></script>
    <script id="json-data" type="application/json">
        {{ json_data|safe }}
    </script>
    <script>
        const jsonData = JSON.parse(document.getElementById('json-data').textContent);
        
        // Initialiser les modals
        initChartModal(jsonData, 'inventory');
        initSettingsModal('inventory');  // ← Initialiser settings modal
    </script>
</body>
</html>
